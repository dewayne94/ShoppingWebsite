@model User
@{
    ViewBag.Title = "Account";
    Layout = "~/Views/Shared/_MyPublicLayout.cshtml";
}

@{
    string status = (string)TempData["register"];
}
<style>
    #load {
        width: 30px;
        height: 30px;
        display: none;
    }

    a {
        color: white;
        text-decoration: none;
    }

        a:hover {
            color: white;
            text-decoration: none;
        }
</style>
<div class="row">

    <div class="col-lg-4 offset-lg-4 col-md-8 offset-md-2 col-sm-8 offset-sm-2 border px-4">
        @{
            if (status != null)
            {
                if (status == "true")
                {
                    <div class="salert">
                        User Registered Successfully
                    </div>
                }
                else
                {
                    <div class="falert">
                        Error Occured while Registering the User
                    </div>
                }
            }
        }
        <h2 class="text-center">My Account</h2>
        @if(Model==null)
        {
            <h1 class="text-danger">Please Sign In to View This Page :)</h1>
        }
        else
        {
            <form action="/User/Register" method="post" class="mb-3" id="form">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" name="uname" value="@Model.userName" class="form-control" id="username" />
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" class="form-control" id="email" value="@Model.email" />
                </div>
                <div class="form-group">
                    <label>Contact</label>
                    <input type="text" name="contact" class="form-control" id="contact" value="@Model.contact" />
                </div>
                <div class="form-group">
                    <label>Address</label>
                    <input type="text" name="address" class="form-control" id="address" value="@Model.address" />
                </div>
                <div class="form-group">
                    <label>Date OF Birth</label>
                    <input type="date" name="dob" class="form-control" id="dob" value="@Model.DOB" />
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" name="pass" class="form-control" id="contact" />
                </div>
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" name="cpass" class="form-control" id="contact" />
                </div>
                <div>
                    <button type="button" class="btn btn-primary btn-block" id="btn">Register<img id="load" src="~/Images/load.png"> </button>
                    <div class="text-center">
                        <span style="color:green;font-size:20px">
                            Already Member ?
                        </span>
                    </div>
                    <button type="button" class="btn btn-success btn-block" id="btnRegiser"><a href="/User/Account">Login</a><img id="load" src="~/Images/load.png"></button>
                </div>
            </form>
        }
    </div>
</div>

<script>

    $("#username").focusout(function () {

    });
    function submit()
    {
        $("#form").submit();
    }
    $("#btn").click(function () {
        $("#load").css("display", "inline");
        setTimeout(submit,2000);
    });
    $("#btnRegister").click(function () {
        alert("Call");
        $.ajax({
            url:"/User/Account"
        });
    });
</script>
