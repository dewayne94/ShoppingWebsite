
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_MyPublicLayout.cshtml";
}

@{ 
    string status = (string)TempData["register"];
}
<style>
    #load {
        width: 30px;
        height: 30px;
        display: none;
    }

    a {
        color: white;
        text-decoration: none;
    }

        a:hover {
            color: white;
            text-decoration: none;
        }
</style>
<div class="row">
   
    <div class="col-lg-4 offset-lg-4 col-md-8 offset-md-2 col-sm-8 offset-sm-2 border px-4">
        @{
            if (status != null)
            {
                if (status == "true")
                {
                    <div class="salert">
                        User Registered Successfully
                    </div>
                }
                else
                {
                    <div class="falert">
                        Error Occured while Registering the User
                    </div>
                }
            }
        }
        <h2 class="text-center">Register</h2>
        <form action="/User/Register" method="post" class="mb-3" id="form">
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="uname" value="@ViewBag.Login" class="form-control" id="username" />
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" class="form-control" id="email" />
            </div>
            <div class="form-group">
                <label>Contact</label>
                <input type="text" name="contact" class="form-control" id="contact" />
            </div>
            <div class="form-group">
                <label>Address</label>
                <input type="text" name="address" class="form-control" id="address" />
            </div>
            <div class="form-group">
                <label>Date OF Birth</label>
                <input type="date" name="dob" class="form-control" id="dob" />
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" name="pass" class="form-control" id="contact" />
            </div>
            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" name="cpass" class="form-control" id="contact" />
            </div>
            <div>
                <button type="button" class="btn btn-primary btn-block" id="btn">Register<img id="load" src="~/Images/load.png"> </button>
                <div class="text-center">
                    <span style="color:green;font-size:20px">
                        Already Member ?
                    </span>
                </div>
                <button type="button" class="btn btn-success btn-block" id="btnRegiser"><a href="/User/Account">Login</a><img id="load" src="~/Images/load.png"></button>
            </div>
        </form>
        @{
            string flag = ViewBag.LoginStatus;
            if (flag != null)
            {
                if (flag == "true")
                {
                    <div class="alert alert-success">
                        @ViewBag.LoginMSG
                    </div>
                }
                else
                {
                    <div class="alert alert-danger">
                        @ViewBag.LoginMSG
                    </div>
                }
            }
        }
    </div>
</div>

<script>

    $("#username").focusout(function () {

    });
    function submit()
    {
        $("#form").submit();
    }
    $("#btn").click(function () {
        $("#load").css("display", "inline");
        setTimeout(submit,2000);
    });
    $("#btnRegister").click(function () {
        alert("Call");
        $.ajax({
            url:"/User/Account"
        });
    });
</script>
